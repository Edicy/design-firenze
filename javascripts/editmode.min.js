var debounce=function(func,wait,immediate){var timeout;return function(){var context=this,args=arguments,later=function(){timeout=null,immediate||func.apply(context,args)},callNow=immediate&&!timeout;clearTimeout(timeout),timeout=setTimeout(later,wait),callNow&&func.apply(context,args)}},initSettingsEditorBtn=function(){window.addEventListener("DOMContentLoaded",(function(event){var shadowDom=document.querySelector(".edy-next-shadowdom").shadowRoot,setSettingsBtn=setInterval((function(){if(shadowDom.querySelectorAll('div[class^="toolbar__"]').length){var toolbarExpandBtn=shadowDom.querySelector('div[class^="toolbar-expand"]'),toolbar=shadowDom.querySelector('div[class^="toolbar__"]'),settingsBtn=document.querySelector(".js-layout_settings-btn"),toolbarItem=shadowDom.querySelector('div[class^="toolbar-content-item__"]');settingsBtn.className=toolbarItem.className+" "+settingsBtn.className,toolbar.insertBefore(settingsBtn,toolbarExpandBtn),shadowDom.querySelector(".js-layout_settings-btn").addEventListener("click",(function(e){document.querySelector("body").classList.toggle("layout_settings-visible"),e.stopImmediatePropagation()}));var positionPopover=function(){var settingsPopover=$(".js-layout_settings-popover"),settingsPopoverArrow=$(".layout_settings-arrow");$(window).width()>768?(settingsPopover.css({right:window.innerWidth-settingsBtn.getBoundingClientRect().right-settingsPopover.width()/2}),settingsPopoverArrow.css({right:settingsPopover.width()/2})):(settingsPopover.css({right:0}),settingsPopoverArrow.css({right:72}))};$(window).resize(debounce((function(){positionPopover()}),25)),positionPopover(),clearInterval(setSettingsBtn)}}),500);$("body").append($(".js-layout_settings-popover"))}))};window.site=$.extend(window.site||{},{initSettingsEditorBtn:initSettingsEditorBtn});